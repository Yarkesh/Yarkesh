{"version":3,"sources":["component/util/useTitle.jsx","component/util/WarnModal.jsx","component/pages/ProjectPool/index.jsx"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","useTitle","title","useEffect","document","console","log","WarnModal","_ref","code","data","errsArray","Object","keys","map","err","index","oneField","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","key","concat","oneErr","error","antd_es_modal__WEBPACK_IMPORTED_MODULE_0__","content","length","onOk","Title","getItemStyle","isDragging","draggableStyle","F_React_karayar_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","transition","userSelect","padding","margin","grid","marginBottom","borderRadius","boxShadow","fontWeight","background","App","props","dispatch","useDispatch","getAllSprintPool","useCallback","getProjectSprintPool","match","params","projectId","_useSelector","useSelector","state","allSprintPool","shallowEqual","Pool","Others","loading","clearErrCallback","clearErr","MyModal","react__WEBPACK_IMPORTED_MODULE_5___default","style","height","react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_6__","onDragEnd","result","source","destination","_source$droppableId$s","droppableId","split","_source$droppableId$s2","F_React_karayar_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","sName","sId","_destination$droppabl","_destination$droppabl2","dName","dId","moveItemInAllPool","draggableId","antd_es_row__WEBPACK_IMPORTED_MODULE_0__","width","antd_es_col__WEBPACK_IMPORTED_MODULE_1__","xs","sm","md","lg","sprintId","provided","snapshot","ref","innerRef","isDraggingOver","border","minHeight","display","flexDirection","textAlign","marginTop","paddingBottom","paddingTop","level","sprintName","stories","item","storyId","assign","draggableProps","dragHandleProps","storyName","placeholder","flexWrap","justifyContent","Other","maxWidth"],"mappings":"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","file":"static/js/23.f8c60d47.chunk.js","sourcesContent":["import { useEffect } from \"react\";\r\n\r\nconst useTitle = title => {\r\n  useEffect(() => {\r\n    document.title = title;\r\n    console.log(\"name\");\r\n  }, [title]);\r\n};\r\n\r\nexport default useTitle;\r\n","import { Modal } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst WarnModal = ({ data }) => {\r\n  const innerItems = array =>\r\n    array.map((oneErr, index) => <li key={`lis + ${index}`}>{oneErr}</li>);\r\n  const errsArray = Object.keys(data);\r\n  let code;\r\n  try {\r\n    code = errsArray.map((err, index) => {\r\n      const oneField = data[err];\r\n      if (typeof oneField === \"string\") {\r\n        return (\r\n          <ul key=\"1\">\r\n            <li>\r\n              {err}\r\n              <ul key=\"2\">{oneField}</ul>\r\n            </li>\r\n          </ul>\r\n        );\r\n      }\r\n      return (\r\n        <ul key={`uls + ${index}`}>\r\n          <li>\r\n            {err}\r\n            <ul>{innerItems(oneField)}</ul>\r\n          </li>\r\n        </ul>\r\n      );\r\n    });\r\n  } catch (error) {\r\n    code = \"server Error\";\r\n  }\r\n\r\n  Modal.error({\r\n    title: \"Err :(\",\r\n    content: errsArray.length ? code : \"\",\r\n    onOk() {}\r\n  });\r\n};\r\n\r\nexport default WarnModal;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { Row, Col, Typography } from \"antd\";\r\nimport { shallowEqual, useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  getProjectSprintPool,\r\n  moveItemInAllPool\r\n} from \"../../../action/project\";\r\nimport { clearErr } from \"../../../action/resource\";\r\nimport useTitle from \"../../util/useTitle\";\r\nimport MyModal from \"../../util/WarnModal\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst grid = 8;\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n  transition: \"all .7s\",\r\n\r\n  userSelect: \"none\",\r\n  padding: \"6px\",\r\n  margin: `${grid / 2}px`,\r\n  marginBottom: `${grid}px`,\r\n  borderRadius: \"8px\",\r\n  boxShadow: \"rgba(240,240,240,.6) 0px 0px 4px 0px\",\r\n  fontWeight: \"700\",\r\n\r\n  background: isDragging ? \"lightgreen\" : \"rgba(240,240,240,1)\",\r\n  // width: isDragging ? '40px' : 'auto',\r\n\r\n  ...draggableStyle\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n  transition: \"all .7s\",\r\n  background: isDraggingOver ? \"lightblue\" : \"white\",\r\n  boxShadow: isDraggingOver\r\n    ? \"green 0px 0px 8px 0px\"\r\n    : \"rgba(147, 142, 142, 0.38) 0px 0px 7px 0px\",\r\n  margin: \"16px auto\",\r\n  padding: grid,\r\n  borderRadius: \"16px\",\r\n  border: isDraggingOver ? \"2px solid green\" : \"2px solid transparent\",\r\n  minHeight: \"150px\",\r\n  // padding: grid,\r\n  display: \"flex\",\r\n  width: \"70%\",\r\n  maxWidth: \"250px\",\r\n  flexDirection: \"column\"\r\n});\r\n\r\nconst getPoolListStyle = isDraggingOver => ({\r\n  transition: \"all .7s\",\r\n  background: isDraggingOver ? \"lightblue\" : \"white\",\r\n  boxShadow: isDraggingOver\r\n    ? \"green 0px 0px 8px 0px\"\r\n    : \"rgba(147, 142, 142, 0.38) 0px 0px 7px 0px\",\r\n  margin: \"16px\",\r\n  padding: grid,\r\n  border: isDraggingOver ? \"2px solid green\" : \"2px solid transparent\",\r\n  borderRadius: \"16px\",\r\n  minHeight: \"300px\",\r\n  // overflowY: 'auto',\r\n  // border: '1px solid ',\r\n  // maxWidth: '0px',\r\n  width: \"90%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\"\r\n});\r\n\r\nconst App = props => {\r\n  useTitle(\"project pool\");\r\n  const dispatch = useDispatch();\r\n  const getAllSprintPool = useCallback(\r\n    () => dispatch(getProjectSprintPool(props.match.params.projectId)),\r\n    // () => console.log({ userId, projectId }),\r\n    [dispatch, props.match.params.projectId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    getAllSprintPool();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.match.params.projectId]);\r\n  const { Pool, Others, loading } = useSelector(\r\n    state => state.allSprintPool,\r\n    shallowEqual\r\n  );\r\n  const err = useSelector(state => state.err, shallowEqual);\r\n\r\n  const clearErrCallback = useCallback(\r\n    () => dispatch(clearErr()),\r\n    // () => console.log({ userId, projectId }),\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(err).length) {\r\n      MyModal({ data: err });\r\n      clearErrCallback();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [err]);\r\n\r\n  const onDragEnd = result => {\r\n    const { source, destination } = result;\r\n    if (!destination) {\r\n      return;\r\n    }\r\n    const [sName, sId] = source.droppableId.split(\" \", 2);\r\n    const [dName, dId] = destination.droppableId.split(\" \", 2);\r\n    dispatch(\r\n      moveItemInAllPool(\r\n        props.match.params.projectId,\r\n        result.draggableId,\r\n        sName,\r\n        sId,\r\n        source.index,\r\n        dName,\r\n        dId,\r\n        destination.index\r\n      )\r\n    );\r\n  };\r\n\r\n  return loading ? (\r\n    <div>loading</div>\r\n  ) : Others.length !== 0 ? (\r\n    <div style={{ height: \"\" }}>\r\n      <DragDropContext onDragEnd={onDragEnd}>\r\n        {console.log(\"hmm\")}\r\n        <Row style={{ width: \"100%\", margin: \"0 auto\", height: \"100%\" }}>\r\n          <Col xs={24} sm={10} md={8} lg={6}>\r\n            <Droppable droppableId={`pool ${Pool.sprintId}`}>\r\n              {(provided, snapshot) => (\r\n                <div\r\n                  ref={provided.innerRef}\r\n                  style={getPoolListStyle(snapshot.isDraggingOver)}\r\n                >\r\n                  <Title\r\n                    style={{\r\n                      background: \"rgb(240, 242, 245)\",\r\n                      textAlign: \"center\",\r\n                      borderRadius: \"16px\",\r\n                      marginBottom: \"8px\",\r\n                      marginTop: \"8px\",\r\n                      paddingBottom: \"4px\",\r\n                      paddingTop: \"4px\"\r\n                    }}\r\n                    level={4}\r\n                  >\r\n                    {Pool.sprintName}\r\n                  </Title>\r\n                  {Pool.stories.map((item, index) => (\r\n                    <Draggable\r\n                      draggableId={item.storyId}\r\n                      key={item.storyId}\r\n                      index={index}\r\n                    >\r\n                      {(provided, snapshot) => (\r\n                        <div\r\n                          ref={provided.innerRef}\r\n                          {...provided.draggableProps}\r\n                          {...provided.dragHandleProps}\r\n                          style={getItemStyle(\r\n                            snapshot.isDragging,\r\n                            provided.draggableProps.style\r\n                          )}\r\n                        >\r\n                          {item.storyName}\r\n                        </div>\r\n                      )}\r\n                    </Draggable>\r\n                  ))}\r\n                  {provided.placeholder}\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </Col>\r\n\r\n          <Col\r\n            xs={24}\r\n            md={12}\r\n            lg={16}\r\n            style={{\r\n              marginBottom: \"8px\",\r\n              display: \"flex\",\r\n              flexWrap: \"wrap\",\r\n              justifyContent: \"start\"\r\n            }}\r\n          >\r\n            {Others.map(Other => (\r\n              <Droppable\r\n                key={Other.sprintId}\r\n                droppableId={`other ${Other.sprintId}`}\r\n              >\r\n                {(provided, snapshot) => (\r\n                  <div\r\n                    ref={provided.innerRef}\r\n                    style={getListStyle(snapshot.isDraggingOver)}\r\n                  >\r\n                    <Title\r\n                      style={{\r\n                        background: \"rgb(240, 242, 245)\",\r\n                        textAlign: \"center\",\r\n                        borderRadius: \"16px\",\r\n                        marginBottom: \"8px\",\r\n                        marginTop: \"8px\",\r\n                        paddingBottom: \"4px\",\r\n                        paddingTop: \"4px\",\r\n                        width: \"100%\"\r\n                      }}\r\n                      level={4}\r\n                    >\r\n                      {Other.sprintName}\r\n                    </Title>\r\n                    {Other.stories.map((item, index) => (\r\n                      <Draggable\r\n                        key={item.storyId}\r\n                        draggableId={item.storyId}\r\n                        index={index}\r\n                      >\r\n                        {(provided, snapshot) => (\r\n                          <div\r\n                            ref={provided.innerRef}\r\n                            {...provided.draggableProps}\r\n                            {...provided.dragHandleProps}\r\n                            style={getItemStyle(\r\n                              snapshot.isDragging,\r\n                              provided.draggableProps.style\r\n                            )}\r\n                          >\r\n                            {item.storyName}\r\n                          </div>\r\n                        )}\r\n                      </Draggable>\r\n                    ))}\r\n                    {provided.placeholder}\r\n                  </div>\r\n                )}\r\n              </Droppable>\r\n            ))}\r\n          </Col>\r\n        </Row>{\" \"}\r\n      </DragDropContext>\r\n    </div>\r\n  ) : (\r\n    <h2 style={{ textAlign: \"center\" }}>Please Define a Sprint</h2>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"sourceRoot":""}